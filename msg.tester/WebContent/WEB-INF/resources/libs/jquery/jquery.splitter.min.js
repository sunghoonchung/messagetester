!function(t,i){var e=0,n=null,r=[],o=null;t.fn.split=function(s){function l(t){if("number"==typeof t)return t;if("string"==typeof t){var i=t.match(/^([0-9\.]+)(px|%)$/);if(i){if("px"==i[2])return+i[1];if("vertical"==p.orientation)return v*+i[1]/100;if("horizontal"==p.orientation)return g*+i[1]/100}}}var a=this.data("splitter");if(a)return a;var h,u,p=t.extend({limit:100,orientation:"horizontal",position:"50%",invisible:!1,onDragStart:t.noop,onDragEnd:t.noop,onDrag:t.noop},s||{});this.settings=p;var d,c=this.children();"vertical"==p.orientation?(h=c.first().addClass("left_panel"),u=h.next().addClass("right_panel"),d="vsplitter"):"horizontal"==p.orientation&&(h=c.first().addClass("top_panel"),u=h.next().addClass("bottom_panel"),d="hsplitter"),p.invisible&&(d+=" splitter-invisible");var v=this.width(),g=this.height(),f=e++;this.addClass("splitter_panel");var m,b=t("<div/>").addClass(d).bind("mouseenter touchstart",function(){n=f}).bind("mouseleave touchend",function(){n=null}).insertAfter(h),z=t.extend(this,{refresh:function(){var t=this.width(),i=this.height();(v!=t||g!=i)&&(v=this.width(),g=this.height(),z.position(m))},position:function(){return"vertical"==p.orientation?function(e,n){if(e===i)return m;m=l(e);var r=b.width(),o=r/2;if(p.invisible){var s=h.width(m).outerWidth();b.css("left",s-o),u.css("left",s-o+r),t(".manual-resize-component:visible").trigger("resize-component")}else{var s=h.width(m-o).outerWidth();b.css("left",s),u.css("left",s+r),t(".manual-resize-component:visible").trigger("resize-component")}return n||z.find(".splitter_panel").trigger("splitter.resize"),z}:"horizontal"==p.orientation?function(t,e){if(t===i)return m;m=l(t);var n=b.height(),r=n/2;if(p.invisible){var o=h.height(m).outerHeight();u.height(z.height()-o),b.css("top",o-r)}else{var o=h.height(m-r).outerHeight();u.height(z.height()-o-n),b.css("top",o)}return e||z.find(".splitter_panel").trigger("splitter.resize"),z}:t.noop}(),orientation:p.orientation,limit:p.limit,isActive:function(){return n===f},destroy:function(){z.removeClass("splitter_panel"),b.unbind("mouseenter"),b.unbind("mouseleave"),b.unbind("touchstart"),b.unbind("touchmove"),b.unbind("touchend"),b.unbind("touchleave"),b.unbind("touchcancel"),"vertical"==p.orientation?(h.removeClass("left_panel"),u.removeClass("right_panel")):"horizontal"==p.orientation&&(h.removeClass("top_panel"),u.removeClass("bottom_panel")),z.unbind("splitter.resize"),z.find(".splitter_panel").trigger("splitter.resize"),r.splice(f,1),e--,b.remove();for(var i=!1,n=r.length;n--;)if(null!==r[n]){i=!0;break}i||(t(document.documentElement).unbind(".splitter"),t(window).unbind("resize.splitter"),z.data("splitter",null),r=[],e=0)}});z.bind("splitter.resize",function(t){var i=z.position();"vertical"==z.orientation&&i>z.width()?i=z.width()-z.limit-1:"horizontal"==z.orientation&&i>z.height()&&(i=z.height()-z.limit-1),i<z.limit&&(i=z.limit+1),z.position(i,!0)});var w;return"vertical"==p.orientation?w=w>v-p.limit?v-p.limit:l(p.position):"horizontal"==p.orientation&&(w=w>g-p.limit?g-p.limit:l(p.position)),w<p.limit&&(w=p.limit),z.position(w,!0),0==r.length&&(t(window).bind("resize.splitter",function(){t.each(r,function(t,i){i.refresh()})}),t(document.documentElement).bind("mousedown.splitter touchstart.splitter",function(i){return null!==n?(o=r[n],t('<div class="splitterMask"></div>').css("cursor",o.children().eq(1).css("cursor")).insertAfter(o),o.settings.onDragStart(i),!1):void 0}).bind("mouseup.splitter touchend.splitter touchleave.splitter touchcancel.splitter",function(i){o&&(t(".splitterMask").remove(),o.settings.onDragEnd(i),o=null)}).bind("mousemove.splitter touchmove.splitter",function(t){if(null!==o){var i=o.limit,e=o.offset();if("vertical"==o.orientation){var n=t.pageX;t.originalEvent&&t.originalEvent.changedTouches&&(n=t.originalEvent.changedTouches[0].pageX);var r=n-e.left;r<=o.limit?r=o.limit+1:r>=o.width()-i&&(r=o.width()-i-1),r>o.limit&&r<o.width()-i&&(o.position(r,!0),o.find(".splitter_panel").trigger("splitter.resize"),t.preventDefault())}else if("horizontal"==o.orientation){var s=t.pageY;t.originalEvent&&t.originalEvent.changedTouches&&(s=t.originalEvent.changedTouches[0].pageY);var l=s-e.top;l<=o.limit?l=o.limit+1:l>=o.height()-i&&(l=o.height()-i-1),l>o.limit&&l<o.height()-i&&(o.position(l,!0),o.find(".splitter_panel").trigger("splitter.resize"),t.preventDefault())}o.settings.onDrag(t)}})),r.push(z),z.data("splitter",z),z}}(jQuery);